@model Suite_de_Gestion_Isari.Entidades.Empleado
@{
    ViewData["Title"] = "Crear Usuario";
}

<div class="container-fluid mt-auto">
    <div class="row justify-content-center">
        <div class="col-xl-6 col-lg-8 col-md-10">
            <div class="shadow rounded bg-light p-5">
            <h1 class="display-4 text-center mb-5">Crear Usuario</h1>
            
            @if (ViewBag.ErrorMessage != null)
            {
                <div class="alert alert-danger text-center">@ViewBag.ErrorMessage</div>
            }

            <form asp-action="Agregar_Empleado" asp-controller="Usuario" class="bg-light p-5 rounded shadow-lg">



                <div class="row mb-4">
                    <div class="col-lg-12">
                        <label for="nombre" class="form-label fw-bold fs-5">Nombre Completo</label>
                        <input type="text" asp-for="NOMBRE" class="form-control form-control-lg" placeholder="Ingrese el nombre completo" required>
                    </div>                
                </div>


                <div class="row mb-4">
                    <div class="col-lg-6">
                        <label for="cedula" class="form-label fw-bold fs-5">Cédula</label>
                        <input type="text" asp-for="CEDULA" class="form-control form-control-lg" placeholder="Ingrese la cédula" required>
                    </div>


                    <div class="col-lg-6">
                        <label for="telefono" class="form-label fw-bold fs-5">Teléfono</label>
                        <input type="text" asp-for="TELEFONO" class="form-control form-control-lg" placeholder="Ingrese el teléfono" required>
                    </div>
                </div>

                <div class="mb-12">
                    <label for="correo" class="form-label fw-bold fs-5">Correo Electrónico</label>
                    <input type="email" asp-for="EMAIL" class="form-control form-control-lg" placeholder="Ingrese el correo" required>
                </div>

                <div class="row mb-4">
                    <div class="col-lg-6">
                        <label for="Roles" class="form-label fw-bold fs-5">Rol</label>
                        <select asp-for="ID_ROL" class="form-control form-control-lg" asp-items="@(new SelectList(ViewBag.Roles, "ID_ROL", "DESCRIPCION"))">
                            <option value="">Seleccione un Rol</option>
                        </select>
                    </div>


                    <div class="col-lg-6">
                        <label for="Puesto" class="form-label fw-bold fs-5">Puesto</label>
                        <select asp-for="ID_PUESTO" class="form-control form-control-lg" asp-items="@(new SelectList(ViewBag.Puestos, "ID_PUESTO", "NOMBRE_POSICION"))">
                            <option value="">Seleccione un puesto</option>
                        </select>
                    </div>
                </div>

                <div class="mb-4 position-relative">
                    <label for="contraseña" class="form-label fw-bold fs-5">Contraseña</label>
                    <div class="input-group">
                        <input type="password" asp-for="CONTRASENA" class="form-control form-control-lg" id="passwordInput" placeholder="Ingrese una contraseña" required>
                        <button type="button" class="btn btn-outline-secondary" id="togglePassword" aria-label="Mostrar u ocultar contraseña">
                            <i class="bi bi-eye-slash" id="toggleIcon"></i>
                        </button>
                    </div>
                </div>

                <div class="d-flex justify-content-between align-items-center mt-4">
                    <a class="btn btn-secondary btn-lg px-5" role="button" asp-controller="Home" asp-action="Index">Volver</a>
                    <input type="submit" class="btn btn-primary btn-lg px-5" value="Agregar Empleado">
                </div>
            </form>
            </div>
        </div>
    </div>
</div>


<script>
    document.getElementById('togglePassword').addEventListener('click', function () {
        const passwordInput = document.getElementById('passwordInput');
        const toggleIcon = document.getElementById('toggleIcon');

        if (passwordInput.type === 'password') {
            passwordInput.type = 'text';
            toggleIcon.classList.remove('bi-eye-slash');
            toggleIcon.classList.add('bi-eye');
        } else {
            passwordInput.type = 'password';
            toggleIcon.classList.remove('bi-eye');
            toggleIcon.classList.add('bi-eye-slash');
        }
    });
</script>